v26.0.1-39423 Release Notes
===========================

Freicoin version v26.0.1-39423 is now available from:

  https://github.com/tradecraftio/tradecraft/releases/tag/v26.0.1-39423

This release includes various bug fixes and compatibility improvements related to the stratum mining subsystem.

Please report bugs using the issue tracker at GitHub:

  https://github.com/tradecraftio/tradecraft/issues

To receive security and update notifications, please subscribe to:

  https://tradecraft.groups.io/g/announce/

How to Upgrade
--------------

If you are running an older version, shut it down. Wait until it has completely shut down (which might take a few minutes in some cases), then run the installer (on Windows) or just copy over `/Applications/Freicoin-Qt` (on macOS) or `freicoind`/`freicoin-qt` (on Linux).

Upgrading directly from a version of Freicoin that has reached its EOL is possible, but it might take some time if the data directory needs to be migrated.  Old wallet versions of Freicoin are generally supported.

Compatibility
-------------

Freicoin is supported and extensively tested on operating systems using the Linux kernel, macOS 11.0+, and Windows 7 and newer.  Freicoin should also work on most other Unix-like systems but is not as frequently tested on them.  It is not recommended to use Freicoin on unsupported systems.

Notable changes
---------------

### Stratum mining system

This release includes two alterations to the stratum mining subsystem to better support the Apollo BTC home miner.  Specifically, the Apollo BTC miner does not support job IDs longer than 64 characters, and expects the stratum server to return a `mining.set_difficulty` notification upon first connect, even before the miner provides its authorization credentials.

This release modifies the stratum mining subsystem to use shorter job IDs and to immediately return a `mining.set_difficulty` notification when a new miner connects to the stratum server.  The Apollo BTC miner is the only known hardware that is affected by this change.  All other currently supported hardware should continue to work as before.

##### Short job IDs

Some mining hardware, notably the Apollo BTC miner, does not support job IDs longer than 64 charactrs. While job IDs generated by Tradecraft are always 64 characters in length, these job IDs are used by the Bitcoin Core with stratum server and merge mining patches applied release binaries to produce jobs with IDs longer than 64 characters.

This release modifies the Tradecraft stratum mining subsystem to switch to shorter job IDs, only 16 characters in length.  As these job IDs are hex-encoded, this allows for 64 bits of entropy, which would require close to 2^32 concurrent work units before collisions become an issue.  Or with more realistic numbers, 1000 concurrent work units would have a 1 in 2^54 chance of collision with the next generated work unit, which is a negligible risk.

##### Difficulty notification upon initial connection

Some mining hardware, notably the Apollo BTC miner, require the stratum server to return a `mining.set_difficulty` notification upon first connect, even before the miner provides its authorization credentials.  This release modifies the Tradecraft stratum mining subsystem to immediately generate a `mining.set_difficulty` notification when a new miner connects to the stratum server.

This reported difficulty will be immediately overridden by the actual work unit returned once the miner provides its authorization credentials, however this change in behavior allows the Apollo BTC miner to connect to Tradecraft stratum servers without requiring any changes to the miner firmware, and should be understood by other mining hardware as well.

##### Configurable minimum mining diffculty

For protection against denial of service attacks, the Tradecraft stratum mining subsystem will not generate work units with too low of a difficulty.  This release adds a new configuration option, `-miningmindifficulty`, which allows the minimum difficulty to be configured.  The default value is 1000, which means that a single mining unit with 1 TH/s of hashing power will be able to generate a share every few seconds seconds, on average.

The minimum difficulty can be disabled entirely with a value of 0, however this is not recommended as it will make the stratum server vulnerable to denial of service attacks.

##### Expose `getauxdifficulty` RPC in debug console

Due to a bug, in prior releases the `getauxdifficulty` RPC was not available to be called from the debug console.  This release fixes that bug, and user may now call `getauxdifficulty` from within the GUI debug console.

Credits
-------

Thanks to everyone who directly contributed to this release:

- Mark Friedenbach

As well as to everyone that helped with translations on [Transifex](https://www.transifex.com/tradecraft/freicoin-1/).
