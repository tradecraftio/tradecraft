v26.0.0.2-39255 Release Notes
=============================

Bitcoin Core version v26.0.0.2-39255 is now available from:

  https://github.com/tradecraftio/mergemine/releases/tag/v26.0.0.2-39255

This release of Bitcoin Core with the stratum mining server and Tradecraft/Freicoin merge-mining patches applied includes new features, various bug fixes and performance improvements, as well as updated translations.

Please report bugs related to the stratum mining server implementation or Tradecraft/Freicoin merge-mining at the Tradecraft issue tracker on GitHub:

  https://github.com/tradecraftio/mergemine/issues

Please report other bugs regarding Bitcoin Core at the issue tracker on GitHub:

  https://github.com/bitcoin/bitcoin/issues

To receive security and update notifications for the stratum mining server and merge-mining patches, please subscribe to:

  https://tradecraft.groups.io/g/announce/

To receive security notifications for Bitcoin Core, please subscribe to:

  https://bitcoincore.org/en/list/announcements/join/

How to Upgrade
--------------

If you are running an older version, shut it down. Wait until it has completely shut down (which might take a few minutes in some cases), then run the installer (on Windows) or just copy over `/Applications/Bitcoin-Qt` (on macOS) or `bitcoind`/`bitcoin-qt` (on Linux).

Upgrading directly from a version of Bitcoin Core that has reached its EOL is possible, but it might take some time if the data directory needs to be migrated.  Old wallet versions of Bitcoin Core are generally supported.

Compatibility
-------------

Bitcoin Core is supported and extensively tested on operating systems using the Linux kernel, macOS 11.0+, and Windows 7 and newer.  Bitcoin Core should also work on most other Unix-like systems but is not as frequently tested on them.  It is not recommended to use Bitcoin Core on unsupported systems.

Notable changes
---------------

### Stratum mining system

This release includes two alterations to the stratum mining subsystem to better support the Apollo BTC home miner.  Specifically, the Apollo BTC miner does not support job IDs longer than 64 characters, and expects the stratum server to return a `mining.set_difficulty` notification upon first connect, even before the miner provides its authorization credentials.

This release modifies the stratum mining subsystem to use shorter job IDs and to immediately return a `mining.set_difficulty` notification when a new miner connects to the stratum server.  The Apollo BTC miner is the only known hardware that is affected by this change.  All other currently supported hardware should continue to work as before.

##### Short job IDs

Some mining hardware, notably the Apollo BTC miner, does not support job IDs longer than 64 charactrs. Job IDs generated by the built-in stratum mining server were previously up to 129 characters in length, being of the form `job_id:mmroot` where both `job_id` and `mmroot` were hex-encoded 32-byte hashes.

This release modifies the stratum mining subsystem to switch to shorter job IDs, where each component has been replaced with a shorter 8-byte IDs, represented as 16-character hex-encoded strings, for a maximum combined string length is thus 16 + 1 + 16 = 33 characters, which is well within the 64 character limit.  This allows for 64 bits of entropy, which would require close to 2^32 concurrent work units before collisions become an issue.  Or with more realistic numbers, 1000 concurrent work units would have a 1 in 2^54 chance of collision with the next generated work unit, which is a negligible risk.

##### Difficulty notification upon initial connection

Some mining hardware, notably the Apollo BTC miner, require the stratum server to return a `mining.set_difficulty` notification upon first connect, even before the miner provides its authorization credentials.  This release modifies the Tradecraft stratum mining subsystem to immediately generate a `mining.set_difficulty` notification when a new miner connects to the stratum server.

This reported difficulty will be immediately overridden by the actual work unit returned once the miner provides its authorization credentials, however this change in behavior allows the Apollo BTC miner to connect to Tradecraft stratum servers without requiring any changes to the miner firmware, and should be understood by other mining hardware as well.

##### Configurable minimum mining diffculty

For protection against denial of service attacks, the stratum mining subsystem will not generate work units with too low of a difficulty.  This release adds a new configuration option, `-miningmindifficulty`, which allows the minimum difficulty to be configured.  The default value is 1000, which means that a single mining unit with 1 TH/s of hashing power will be able to generate a share every few seconds seconds, on average.

The minimum difficulty can be disabled entirely with a value of 0, however this is not recommended as it will make the stratum server vulnerable to denial of service attacks.

Credits
-------

Thanks to everyone who directly contributed to this release:

- Mark Friedenbach

As well as to everyone that helped with translations on [Transifex](https://www.transifex.com/tradecraft/freicoin-1/).
